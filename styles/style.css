:root {
    --flag-color: #ff8561;
    --pole-color: #202020;
    --ground-color: #42693f;
}

html,
body {
    margin: 0;
    padding: 0;
    font-family: 'IBM Plex Mono', sans-serif;
    background: linear-gradient(180deg, #79b1fa 0%, #6da3d3 100%);
    height: 200vh;
    width: 100vw;
    overflow-x: hidden;
}

div {
    position: absolute;
}

::before,
::after {
    position: absolute;
    content: '';
}

.container {
    position: absolute;
    height: 200vh;
    width: 100%;
    overflow: hidden;
}

.flip {
    transform: scaleX(-1);
}

/* ---------------------------------- */
/* ... EDGE GRADIENT ... */
/* ---------------------------------- */

@keyframes pull-edge-gradient {
    from {opacity: 0;}
    to {opacity: 20%;}
}

.edge-gradient {
    position: fixed;
    left: 0;
    top: 0;
    opacity: 20%;
    height: 100vh;
    width: 100vw;
    background-image: radial-gradient(transparent 50%, black 100%);
    animation-name: pull-edge-gradient;
    animation-duration: 2s;
}

/* ---------------------------------- */
/* ... CLOUDS ... */
/* ---------------------------------- */
.container-clouds {
    position: relative;
    display: flex;
    height: 50%;
}

.cloud-grid {
    display: grid;
    height: 100%;
    width: 100%;
    padding: 2rem;
    grid-template-areas:
    '. one . . . . . . four . . .'
    '. . . . . . . . . . five .'
    '. . two . . . . . . . . .'
    'three . . . . . . . . six . .';
}

@keyframes cloud-idle {
    from { transform: none;}
    to { transform: translateY(-2%);}
}

@keyframes cloud-appear {
    from { opacity: 0;}
}

.anim {
    animation: cloud-idle 1s ease-in-out alternate infinite;
    animation-delay: 0;
}

.cloud {
    opacity: 75%;
    position: relative;
    width: 20vh;
    aspect-ratio : 5 / 3;
    animation: cloud-appear 2s ease-out;
}

@keyframes cloud-upper {
    from { transform: none;}
    50% { transform: scale(107%, 107%);}
    to { transform: none;}
}

@keyframes cloud-lower {
    from { margin: 0;}
    50% { margin-left: 0.2vh; margin-right: 0.2vh;}
    to { margin: 0;}
}

.cloud:not(:hover) .ml,
.cloud:not(:hover) .mr {
    animation: cloud-upper 0.5s ease-in-out alternate;
}

.cloud:not(:hover) .l,
.cloud:not(:hover) .r {
    animation: cloud-lower 0.5s ease-in-out alternate;
}

.cloud div {
    height: 50%;
    bottom: 0;
    background-color: white;
    border-radius: 50%;
    aspect-ratio : 1 / 1;
    box-shadow: 1vh 1vh lightblue;
}

.cloud .l {
    left: 0;
    margin-left: 0;
    height: 50%;
    transition: 0.2s;
}

.cloud .b {
    left: 50%;
    transform: translate(-50%, 0);
    width: 70%;
    border-radius: 0;
}

.cloud .r {
    right: 0;
    height: 50%;
    transition: 0.2s;
}

.cloud .ml {
    left: 17%;
    bottom: 15%;
    height: 65%;
    transition: 0.1s;
}

.cloud .mr {
    bottom: 20%;
    right: 17%;
    height: 75%;
    transition: 0.2s;
}

.cloud .f {
    left: 50%;
    transform: translate(-50%, 0);
    width: 70%;
    border-radius: 0;
    box-shadow: none;
}

/* ---------------------------------- */
/* ... FLAGPOLE ... */
/* ---------------------------------- */

.container-flagpole {
    width: 2vw;
    height: 75%;
    bottom: 0;
    left: 50%;
    z-index: 2;
}

.flagpole {
    height: 0;
    width: 1.5vh;
    left: 50%;
    transform: translate(-50%, 0);
    border-bottom: 150vh solid var(--pole-color);
	border-left: 1.75vh solid transparent;
	border-right: 1.75vh solid transparent;
}

.container-flagpole .gradient {
    height: 0;
    width: 0.25vh;
    left: 50%;
    transform: translate(-50%, 0);
    border-bottom: 150vh solid #3d3d3d;
	border-left: .75vh solid transparent;
	border-right: .75vh solid transparent;
}

.container-flagpole:before {
    width: 6vh;
    height: 15vh;
    bottom: 8vh;
    left: 50%;
    transform: translate(-50%, 0);
    border-left: 7vh solid transparent;
    border-right: 7vh solid transparent;
    border-bottom: 10vh solid #313131;
    border-radius: 50%;
    z-index: 1;
}

.container-flagpole:after {
    width: 14vh;
    height: 25vh;
    bottom: -2vh;
    left: 50%;
    transform: translate(-50%, 0);
    border-left: 12vh solid transparent;
    border-right: 12vh solid transparent;
    border-bottom: 15vh solid var(--ground-color);
    border-radius: 50%;
    z-index: 1;
}

.flagpole .top {
    width: 3vh;
    aspect-ratio : 1 / 1;
    border-radius: 50%;
    left: 50%;
    transform: translate(-50%, 0);
    background-color: #fddf9d;
    top: -1vh;
    z-index: 5;
    box-shadow: inset -0.1vw -0.2vw #f7b321;
}

@keyframes flag-anim {
    from { transform: none;}
    to { transform: translate(-50%, 0);}
}

@keyframes flag-leveler {
    from { transform: none;}
    50% { transform: translate(0, -20%);}
    to { transform: none;}
}

.flagpole .flag-container {
    top: 3.5vh;
    left: 1vh;
    width: 30vh;
    height: 20vh;
    overflow: hidden;
    animation: flag-leveler 4s ease-in-out 1s infinite;
    animation-timing-function: cubic-bezier(0.25, 0, 0.75, 1);
}

.flagpole .test {
    top: 3.5vh;
    left: -3vh;
    width: 3vh;
    height: 19vh;
    animation: flag-leveler 4s ease-in-out 1s infinite;
    animation-timing-function: cubic-bezier(0.15, 0, 0.85, 1);
    background-color: red;
    z-index: 6;
}

.flagpole .flag {
    display: flex;
    align-items: center;
    width: 200%;
    height: 19vh;
    animation: flag-anim 4s linear infinite;
}

.flagpole .flag .l,
.flagpole .flag .r {
    position: relative;
    width: 100%;
    height: 100%;
}

.flagpole .flag .l:before,
.flagpole .flag .l:after,
.flagpole .flag .r:before,
.flagpole .flag .r:after {
    background: var(--flag-color);
    width: calc(100% + 2px);
    height: 50%;
}

.flagpole .flag .l:before {
    mask: radial-gradient(60% 3.5vh at bottom,#0000 calc(100% - 2px),#000);
    bottom: -0.2vh;
}

.flagpole .flag .l:after {
    clip-path: ellipse(85% 100% at 50% 100%);
    top: 0.2vh;
}

.flagpole .flag .r:before {
    mask: radial-gradient(60% 3.5vh at top,#0000 calc(100% - 2px),#000);
    top: 0;
}

.flagpole .flag .r:after {
    clip-path: ellipse(85% 100% at 50% 0%);
    bottom: 0;
}

/* ---------------------------------- */
/* ... GROUND ... */
/* ---------------------------------- */

.container-ground {
    width: 100%;
    height: 12%;
    bottom: 0;
    overflow: hidden;
}

.ground {
    width: 150%;
    height: 200%;
    background-image: radial-gradient(var(--ground-color) 50%, #355530 90%);
    border-radius: 50%;
    margin-left: 50%;
    transform: translateX(-50%);
}

.boulder {
    width: 60vh;
    height: 50vh;
    background-color: rgb(73, 65, 49);
    right: 0vh;
    bottom: 8vh;
    clip-path: polygon(100% 10%,100% 100%,90% 98%,64% 97%,57% 100%,37% 98%,23% 100%,13% 90%,12% 85%,17% 70.7%,20% 50%,29% 37%,36% 16.7%,47% 6.7%,75% 0%,92% 5%);
    z-index: 1;
}

.boulder.shadow {
    width: 61vh;
    height: 51vh;
    background-color: rgb(61, 54, 40);
    right: 0vh;
    bottom: 9vh;
    z-index: 0;
}

/* ---------------------------------- */
/* ... NIILO ... */
/* ---------------------------------- */

.container-niilo {
    width: 30vh;
    height: 35vh;
    bottom: 13vh;
    left: 25%;
    z-index: 7;
}

.container-niilo .shadow {
    width: 100%;
    height: 30%;
    bottom: -7%;
    left: 2vh;
    background-image: radial-gradient(black, transparent 60%);
    border-radius: 50%;
    z-index: -2;
}

.legs {
    width: 100%;
    height: 30%;
    bottom: 0;
}

.legs .limb.l, 
.legs .limb.r,
.legs .limb.l::before,
.legs .limb.r::before,
.legs .limb.r::after {
    width: 5vh;
    border-radius: 3vh;
    background-image: linear-gradient(to left, rgb(70, 37, 6), rgb(92, 49, 8));
}

.legs .limb.l {
    bottom: 1.5vh;
    left: 8vh;
    height: 11vh;
    transform: rotate(40deg);
    z-index: 1;
}

.legs .limb.l::before {
    height: 16vh;
    bottom: -2.5vh;
    left: 5vh;
    transform: rotate(60deg);
}

.legs .limb.r {
    bottom: 1vh;
    right: 7vh;
    height: 13vh;
    transform: rotate(-70deg);
}

.legs .limb.r::before {
    height: 16vh;
    bottom: -1vh;
    right: 3.5vh;
    transform: rotate(-35deg);
    border-radius: 2vh;
}

.legs .limb.r::after {
    height: 4vh;
    bottom: 12vh;
    right: -1vh;
    transform: rotate(-20deg);
    border-radius: 2vh;
}

@keyframes shoe-twist {
    from { transform: rotate(35deg);}
    91% { transform: rotate(35deg);}
    94% { transform: rotate(30deg);}
    97% { transform: rotate(35deg);}
    to { transform: rotate(30deg);}
}

.shoe {
    width: 7vh;
    height: 3.5vh;
    background-color: white;
    border-radius: 45%;
    box-shadow: 0.5vh -0.5vh rgb(134, 77, 3);
}

.shoe::after {
    width: 3vh;
    height: 1.5vh;
    background-color: rgb(202, 202, 202);
    border-radius: 0.5vh;
    top: calc(50% - 0.75vh);
    right: 2vh;
}

.shoe.l {
    right: 3.5vh;
    bottom: 2vh;
    transform: rotate(35deg);
    transform-origin: left;
    animation: shoe-twist 5s ease-in-out alternate infinite;
}

.shoe.r {
    left: 7vh;
    bottom: 0;
    box-shadow: -0.5vh 0.5vh rgb(134, 77, 3);
    z-index: -1;
    transform: rotate(-25deg);
}

.torso {
    width: 8vh;
    height: 12vh;
    background-image: linear-gradient(to bottom, rgb(151, 151, 151), rgb(68, 68, 68));
    left: 11vh;
    bottom: 11vh;
    border-radius: 2vh;
    box-shadow: inset 1vh 0vh rgba(0, 0, 0, 0.089);
}

.torso::after {
    width: 90%;
    height: 100%;
    right: 0;
    background-color: rgb(199, 199, 199);
    clip-path: polygon(5% 100%, 23% 0, 32% 84%, 50% 0, 59% 80%, 83% 0, 96% 100%, 81% 15%, 57% 100%, 49% 18%, 32% 100%, 20% 31%);
}

.torso .limb.l,
.torso .limb.r {
    width: 3.25vh;
    background-image: linear-gradient(to left, rgb(151, 151, 151), rgb(119, 119, 119));
    z-index: 2;
    border-radius: 2vh;
}

.torso .limb.l::before,
.torso .limb.r::before {
    width: 3vh;
    background-image: linear-gradient(to right, rgb(151, 151, 151), rgb(119, 119, 119));
    border-radius: 2vh;
}

.torso .limb.l {
    height: 11vh;
    left: -3vh;
    bottom: 2vh;
    transform: rotate(30deg);
}

.torso .limb.l::before {
    height: 9vh;
    transform: rotate(95deg);
    left: 3vh;
    bottom: -3.5vh;
}

.torso .limb.l::after {
    bottom: -2vh;
    right: -7vh;
    height: 4vh;
    width: 2.5vh;
    background-color: pink;
    border-radius: 40%;
    transform: rotate(110deg);
    clip-path: polygon(21% 21%, 23% 37%, 26% 10%, 39% 0, 71% 0, 91% 6%, 96% 18%, 94% 55%, 100% 100%, 0 100%, 0 48%, 0 18%);
}

.torso .limb.r {
    height: 10vh;
    right: -4vh;
    bottom: 3vh;
    transform: rotate(150deg);
}

.torso .limb.r::before {
    height: 9vh;
    transform: rotate(-110deg);
    right: -2.5vh;
    top: -4vh;
}

.laptop {
    bottom: 13vh;
    left: 15vh;
}

.laptop .screen {
    height: 7vh;
    width: 10vh;
    background-color: silver;
    z-index: 4;
    transform: skew(-20deg);
    box-shadow: inset 0.2vh 0.2vh gray;
    border-radius: 1vh;
}

.laptop .kb {
    left: -3vh;
    bottom: -7vh;
    height: 4vh;
    width: 10vh;
    background-color: silver;
    z-index: 1;
    transform: skew(40deg);
    box-shadow: inset 0.2vh -0.2vh gray;
    border-radius: 1vh;
}

.laptop .kb::after {
    top: 1vh;
    left: 0.5vh;
    height: 2vh;
    width: 6vh;
    background-color: gray;
}
